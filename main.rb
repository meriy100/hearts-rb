$ðŸ’” = Array.new(1024, 0)
$ðŸ’˜ = []
$ðŸ’• = ->x { ->y { ->p { $ðŸ’”[p] != 0 ? $ðŸ’•[x][y][x[p]] : y[p] } } }
def ðŸ’“(h, hs)
  case h
  when '>'
    ->n { ->p { n[p + 1] } }[ðŸ’“(hs.shift, hs)]
  when '<'
    ->n { ->p { n[p - 1] } }[ðŸ’“(hs.shift, hs)]
  when '+'
    ->n { ->p { $ðŸ’”[p] += 1; n[p] } }[ðŸ’“(hs.shift, hs)]
  when '-'
    ->n { ->p { $ðŸ’”[p] -= 1; n[p] } }[ðŸ’“(hs.shift, hs)]
  when '['
    $ðŸ’•[ðŸ’“(hs.shift, hs)][ðŸ’“(hs.shift, hs)]
  when ']'
    ->p { p }
  when '('
    ->x { ->y { ->p { $ðŸ’”[p] != 0 ? y[x[p]] : y[p] } } }[ðŸ’“(hs.shift, hs)][ðŸ’“(hs.shift, hs)]
  when ')'
    ->p { p }
  when '0'
    ->x { ->y { ->p { $ðŸ’”[p] == $ðŸ’˜.last ? y[x[p]] : y[p] } } }[ðŸ’“(hs.shift, hs)][ðŸ’“(hs.shift, hs)]
  when '9'
    ->p { p }
  when 'g'
    ->n { ->p { $ðŸ’”[p] = STDIN.getc&.ord || 0; n[p] } }[ðŸ’“(hs.shift, hs)]
  when 'p'
    ->n { ->p { STDOUT.print $ðŸ’”[p].chr('UTF-8'); n[p] } }[ðŸ’“(hs.shift, hs)]
  when 'S'
    ->n { ->p { $ðŸ’˜.push($ðŸ’”[p]); n[p] }}[ðŸ’“(hs.shift, hs)]
  when 's'
    ->n { ->p { $ðŸ’”[p] = $ðŸ’˜.pop; n[p] }}[ðŸ’“(hs.shift, hs)]
  when 'c'
     ->n { ->p { $ðŸ’”[p] = 0; n[p] }}[ðŸ’“(hs.shift, hs)]
  when nil
    ->p { p }
  end
end


source_code = <<EOS
>>>>>
++++++++++Sc
--
>>>>>>>>>>>>>>>> ---
>>>>>>>>>>>>>>>> ----
>>>>>>>>>>>>>>>> -----
>>>>>>>>>>>>>>>> ------
>>>>>>>>>>>>>>>> -------
>>>>>>>>>>>>>>>> --------
<<<<<<<<<<<<<<<< <<<<<<<<<<<<<<<< <<<<<<<<<<<<<<<< <<<<<<<<<<<<<<<< <<<<<<<<<<<<<<<< <<<<<<<<<<<<<<<< 

[ 
  >
  g
  0c9
  (
    >
    g
    ------------------------------------------------ 
    >
    ++++++++++++++++++++++++++++++++Sc 
    g
    0c9 
    >sc< 
    0c9 
    (
      <+++++++++> 
      ------------------------------------------------ 
      [-<+>] 
      >gc< 
    )
    <
  ) 
]
sc
++[--<++]--

> 
[ 
  Sc
  +++[--->+++]--- 
  [>] sS 
  ++++[---->++++]---- 
  [>] s 
  ++[--<++]-- 
  >[>] 
  - 
  > 
]
++[--<++]-- 
>[+>]



+++[--->+++]--- 
>
[
  Sc
  ++[--<++]-- 
  [>]s 
  +++[--->+++]--- 
  >[>] 
  ->c->
]
+++[---<+++]--- 
>[+>]


++[--<++]-- 
>Sc+>
0
  >
  0
    >
    0
      >
      0
        >
      9
    9
  9
9
(
  ++[--<++]-- 
  >[c>]
)
++[--<++]-- 
>>[c>]




++++[---->++++]---- 
>
[
  c->Sc
  +++[---<+++]--- 
  [>]s 
  ++++[---->++++]---- 
  >[>] 
  ->
]
++++[----<++++]---- 
>[+>]

+++[---<+++]--- 
> 
[ 
  Sc
  ++++[---->++++]---- 
  [>] sS 
  +++++[----->+++++]----- 
  [>] s 
  +++[---<+++]--- 
  >[>] 
  - 
  > 
]
+++[---<+++]--- 
>[+>]

++++[---->++++]---- 

>[
  ->->->->-
  (<
    (<
      (<
        (<
        )
      )
    )
  )
]


++++[----<++++]---- 
>S>S>S>S>S
+++[---<+++]--- 
>s>s>s>s>s


++++[---->++++]---- 
>+>+>+>+>+
>c+S+S+S+S+Sc< 
<<<<<

[>0sc9] 
++++[----<++++]---- 
>
[>]>[[-<+>]>]
++++[----<++++]---- 
>>>>(
  <<<<
  [>0sc9] 
  ++++[----<++++]---- 
  >
  [>]>[[-<+>]>]
  ++++[----<++++]---- 
  >>>(
    <<<
    [>0sc9] 
    ++++[----<++++]---- 
    >
    [>]>[[-<+>]>]
    ++++[----<++++]---- 
    >>(
      <<
      [>0sc9] 
      ++++[----<++++]---- 
      >
      [>]>[[-<+>]>]
      ++++[----<++++]---- 
      >(
        <
        [>0sc9] 
        ++++[----<++++]---- 
        >
        [>]>[[-<+>]>]
        ++++[----<++++]---- 
        >(c-)+(
          ++[--<++]-- 
          >>+ 
          ++++[---->++++]---- 
        ) 
      )
    )
  )
)

++++[----<++++]---- 

>c>c>c>c>c
c+S+++++++++S+S+S+Sc< 

+++[---<+++]--- 
>+>+>+>+>+
<<<<<

[>0sc9] 
+++[---<+++]--- 
>
[>]>[[-<+>]>]
+++[---<+++]--- 
>>>>(
  <<<<
  [>0sc9] 
  +++[---<+++]--- 
  >
  [>]>[[-<+>]>]
  +++[---<+++]--- 
  >>>(
    <<<
    [>0sc9] 
    +++[---<+++]--- 
    >
    [>]>[[-<+>]>]
    +++[---<+++]--- 
    >>(
      <<
      [>0sc9] 
      +++[---<+++]--- 
      >
      [>]>[[-<+>]>]
      +++[---<+++]--- 
      >(
        <
        [>0sc9] 
        +++[---<+++]--- 
        >
        [>]>[[-<+>]>]
        +++[---<+++]--- 
        >(c-)+(
          ++[--<++]-- 
          >>+ 
          +++[--->+++]--- 
        ) 
      )
    )
  )
)

+++[---<+++]--- 

>c>c>c>c>c


+++++[----->+++++]----- 
>S>S>S>S>S
+++[---<+++]--- 
>s>s>s>s>s

+++[---<+++]--- 
>Sc
>[[-<+>]>]
++[--<++]-- 
>>>+ 
+++[--->+++]--- 
> 
[
  0
    c
    >[[-<+>]>]
    ++[--<++]-- 
    >>>+ 
    +++[--->+++]--- 
  9
  >
]
+++[---<+++]--- 

>( 
  Sc
  >[[-<+>]>]
  ++[--<++]-- 
  >>>>+ 
  +++[--->+++]--- 
  >
  [
    0
      c
      >[[-<+>]>]
      ++[--<++]-- 
      >>>>+ 
      +++[--->+++]--- 
    9
    >
  ]
)

+++[---<+++]--- 
>( 
  Sc
  >[[-<+>]>]
  ++[--<++]-- 
  >>>>>+ 
  +++[--->+++]--- 
  >
  [
    0
      c
      >[[-<+>]>]
      ++[--<++]-- 
      >>>>>+ 
      +++[--->+++]--- 
    9
    >
  ]
)

+++[---<+++]--- 
>( 
  Sc
  >[[-<+>]>]
  ++[--<++]-- 
  >>>>>>+ 
  +++[--->+++]--- 
  >
  [
    0
      c
      >[[-<+>]>]
      ++[--<++]-- 
      >>>>>>+ 
      +++[--->+++]--- 
    9
    >
  ]
)
++[--<++]-- 

>(
  >(
    +++++++[------->+++++++]------- 
    >
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    >-
    +++[---<+++]--- 
    >c
    ++[--<++]-- 
    >c>c>c>c>c>c>
    < < < < < < <
    >
  )
  ++[--<++]-- 
  >
)
++[--<++]-- 
<++++Sc>
>>>
[
  0
    +++++++[------->+++++++]------- 
    >
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
    >-
    +++[---<+++]--- 
    >c
    ++[--<++]-- 
    >c>c>c>c>c>c>
    < < < < < < <
  9
  >
]
sc
++[--<++]-- 
>>


>S>S>S>S
+++[--->+++]--- 
>s>s>s>s>-<
[-<]
+[-(+)>+]-
<<
+++[---
 >[-<+>]<
 <
+++]---
>
>+++++Sc<
0
  +++++++[------->+++++++]------- 
  >
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >c
  ++[--<++]-- 
  >c>c>c>c>c>c>
  < < < < < < <
9

++[--<++]-- 

>(
  +++++++[------->+++++++]------- 
  >
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >c
  ++[--<++]-- 
  >c>c>c>c>c>c>
  < < < < < < <
)
++[--<++]-- 
>>(
  +++++++[------->+++++++]------- 
  >
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >c
  ++[--<++]-- 
  >c>c>c>c>c>c>
  < < < < < < <
)
+++[--->+++]--- 
>
>+++Sc<
0
  +++++++[------->+++++++]------- 
  >
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >
9

>++++Sc<
0
  +++++++[------->+++++++]------- 
  >
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >
9

>++Sc<
0
  +++++++[------->+++++++]------- 
  >
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  >-
  +++[---<+++]--- 
  >
9
+++++++[------->+++++++]------- 
>>+(
  >
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pc
)

EOS
ðŸ’“('>', source_code.gsub(/#.*$/, "").gsub(/\s/, "").split(''))[0]
puts
